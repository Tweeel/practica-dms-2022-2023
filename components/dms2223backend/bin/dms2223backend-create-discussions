#!/usr/bin/env python3

from dms2223common.data import Role
from sqlalchemy.orm.session import Session
from dms2223backend.data.config import BackendConfiguration
from dms2223backend.data.db.resultsets import Discussions, Answers, Comments
from dms2223backend.data.db import Schema


cfg: BackendConfiguration = BackendConfiguration()
cfg.load_from_file(cfg.default_config_file())
db: Schema = Schema(cfg)

session: Session = db.new_session()
Discussions.create(session, "discution title 1", "discution content 1" )
Discussions.create(session, "discution title 2", "discution content 2" )
Discussions.create(session, "discution title 3", "discution content 3" )

Answers.answer(session, 1, "respond 1 to discution 1")
Answers.answer(session, 1, "respond 2 to discution 1")
Answers.answer(session, 2, "respond 1 to discution 2")

Comments.comment(session, 1, "Comente 1 to respond 1")
Comments.comment(session, 1, "Comente 2 to respond 1")
Comments.comment(session, 2, "Comente 1 to respond 2")
db.remove_session()